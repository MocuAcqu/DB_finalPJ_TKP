{% extends 'layouts/base.html' %}

{% block content %}
<div class="content-area">
    <!-- tab bar -->
    <div class="tab-bar-container">
        <div class="tab-bar">
            {% if role == 'user' %}
                <a href="{{ url_for('main.index', role='user', tab='exchange') }}" class="tab-item {% if active_tab == 'exchange' %}active{% endif %}">
                    物品交換
                </a>
                <a href="{{ url_for('main.index', role='user', tab='buy_sell') }}" class="tab-item {% if active_tab == 'buy_sell' %}active{% endif %}">
                    買賣專區
                </a>
                <a href="{{ url_for('main.index', role='user', tab='rent') }}" class="tab-item {% if active_tab == 'rent' %}active{% endif %}">
                    租借專區
                </a>
                <a href="{{ url_for('main.index', role='user', tab='profile') }}" class="tab-item {% if active_tab == 'profile' %}active{% endif %}">
                    個人資料
                </a>
            {% elif role == 'seller' %}
                <a href="{{ url_for('main.index', role='seller', tab='items') }}" class="tab-item {% if active_tab == 'items' %}active{% endif %}">
                    我的物品
                </a>
                <a href="{{ url_for('main.index', role='seller', tab='responses') }}" class="tab-item {% if active_tab == 'responses' %}active{% endif %}">
                    管理回應
                </a>
                <a href="{{ url_for('main.index', role='seller', tab='profile') }}" class="tab-item {% if active_tab == 'profile' %}active{% endif %}">
                    個人資料
                </a>
            {% endif %}
        </div>
    </div>
    
    {% if active_tab in ['exchange', 'buy_sell', 'rent', 'items'] %}
        {% include 'partials/_search_block.html' %}
    {% endif %}

    <div class="page-content">
    {% if role == 'user' %} 
        {% if active_tab == 'exchange' %}
            {% include 'user/tab_exchange.html' %}
        {% elif active_tab == 'buy_sell' %}
            {% include 'user/tab_buy_sell.html' %}
        {% elif active_tab == 'rent' %}
            {% include 'user/tab_rent.html' %}
        {% elif active_tab == 'profile' %}
            {% include 'user/tab_profile.html' %}
        {% endif %}

    {% elif role == 'seller' %}
        {% if active_tab == 'items' %}
            {% include 'seller/tab_items.html' %}
        {% elif active_tab == 'responses' %}
            {% include 'seller/tab_responses.html' %}
        {% elif active_tab == 'profile' %}
            {% include 'seller/tab_profile.html' %}
        {% endif %}
    {% endif %}
    </div>
</div>
{% endblock %}