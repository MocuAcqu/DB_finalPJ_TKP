<!-- app/templates/partials/_search_block.html (更新後) -->
<div class="search-container">
    <!-- 將所有元素包在一個表單內 -->
    <form action="{{ url_for('main.index') }}" method="GET" class="search-form">
        <!-- 隱藏欄位以保留狀態 -->
        <input type="hidden" name="role" value="{{ role }}">
        <input type="hidden" name="tab" value="{{ active_tab }}">

        <div class="search-content">
            <!-- 左側：標題和描述 -->
            <div class="search-info">
                <h2>{{ title }}</h2>
                <p>{{ description }}</p>
            </div>

            <!-- 右側：搜尋和排序控制項 -->
            <div class="search-controls">
                <!-- 搜尋輸入框 -->
                <div class="search-input-wrapper">
                    <label for="search-input" class="visually-hidden">搜尋關鍵字</label>
                    <svg class="search-icon" xmlns="http://www.w.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                    <input type="search" id="search-input" name="q" placeholder="搜尋物品..." value="{{ search_query or '' }}">
                </div>

                <!-- 排序下拉選單 -->
                <div class="sort-select-wrapper">
                    <label for="sort-select" class="visually-hidden">排序方式</label>
                    <select name="sort" id="sort-select">
                        <option value="desc" {% if sort_order == 'desc' %}selected{% endif %}>由新到舊</option>
                        <option value="asc" {% if sort_order == 'asc' %}selected{% endif %}>由舊到新</option>
                    </select>
                </div>

                <!-- 搜尋按鈕 -->
                <button type="submit" class="search-button">搜尋</button>
            </div>
        </div>
    </form>
</div>